"use strict";var NumbrBundle=(()=>{var ze=Object.create;var fe=Object.defineProperty;var je=Object.getOwnPropertyDescriptor;var Ye=Object.getOwnPropertyNames;var qe=Object.getPrototypeOf,Je=Object.prototype.hasOwnProperty;var he=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports);var Te=(e,n,r,a)=>{if(n&&typeof n=="object"||typeof n=="function")for(let o of Ye(n))!Je.call(e,o)&&o!==r&&fe(e,o,{get:()=>n[o],enumerable:!(a=je(n,o))||a.enumerable});return e};var _e=(e,n,r)=>(r=e!=null?ze(qe(e)):{},Te(n||!e||!e.__esModule?fe(r,"default",{value:e,enumerable:!0}):r,e)),Qe=e=>Te(fe({},"__esModule",{value:!0}),e);var Ne=he((vn,en)=>{en.exports={AED:{name:"United Arab Emirates dirham",dp:2},AFN:{name:"Afghan afghani",dp:2},ALL:{name:"Albanian lek",dp:2},AMD:{name:"Armenian dram",dp:2},ANG:{name:"Netherlands Antillean guilder",dp:2},AOA:{name:"Angolan kwanza",dp:2},ARS:{name:"Argentine peso",dp:2},AUD:{name:"Australian dollar",dp:2},AWG:{name:"Aruban florin",dp:2},AZN:{name:"Azerbaijani manat",dp:2},BAM:{name:"Bosnia and Herzegovina convertible mark",dp:2},BBD:{name:"Barbados dollar",dp:2},BDT:{name:"Bangladeshi taka",dp:2},BGN:{name:"Bulgarian lev",dp:2},BHD:{name:"Bahraini dinar",dp:3},BIF:{name:"Burundian franc",dp:0},BMD:{name:"Bermudian dollar",dp:2},BND:{name:"Brunei dollar",dp:2},BOB:{name:"Boliviano",dp:2},BRL:{name:"Brazilian real",dp:2},BSD:{name:"Bahamian dollar",dp:2},BTN:{name:"Bhutanese ngultrum",dp:2},BWP:{name:"Botswana pula",dp:2},BYN:{name:"Belarusian ruble",dp:2},BYR:{name:"Belarusian ruble",dp:2},BZD:{name:"Belize dollar",dp:2},CAD:{name:"Canadian dollar",dp:2},CDF:{name:"Congolese franc",dp:2},CDN:{name:"Canadian dollar",dp:2},CHF:{name:"Swiss franc",dp:2},CLF:{name:"Unidad de Fomento",dp:4},CLP:{name:"Chilean peso",dp:0},CNH:{name:"Chinese yuan",dp:2},CNY:{name:"Chinese yuan",dp:2},COP:{name:"Colombian peso",dp:2},CRC:{name:"Costa Rican colon",dp:2},CSK:{name:"Czech koruna",dp:2},CUC:{name:"Cuban convertible peso",dp:2},CUP:{name:"Cuban peso",dp:2},CVE:{name:"Cape Verdean escudo",dp:2},CZK:{name:"Czech koruna",dp:2},DJF:{name:"Djiboutian franc",dp:0},DKK:{name:"Danish krone",dp:2},DOP:{name:"Dominican peso",dp:2},DZD:{name:"Algerian dinar",dp:2},EGP:{name:"Egyptian pound",dp:2},ERN:{name:"Eritrean nakfa",dp:2},ETB:{name:"Ethiopian birr",dp:2},EUR:{name:"Euro",dp:2},FJD:{name:"Fiji dollar",dp:2},FKP:{name:"Falkland Islands pound",dp:2},GBP:{name:"Pound sterling",dp:2},GEL:{name:"Georgian lari",dp:2},GHS:{name:"Ghanaian cedi",dp:2},GIP:{name:"Gibraltar pound",dp:2},GMD:{name:"Gambian dalasi",dp:2},GNF:{name:"Guinean franc",dp:0},GTQ:{name:"Guatemalan quetzal",dp:2},GYD:{name:"Guyanese dollar",dp:2},HKD:{name:"Hong Kong dollar",dp:2},HNL:{name:"Honduran lempira",dp:2},HRK:{name:"Croatian kuna",dp:2},HTG:{name:"Haitian gourde",dp:2},HUF:{name:"Hungarian forint",dp:2},IDR:{name:"Indonesian rupiah",dp:2},ILS:{name:"Israeli new shekel",dp:2},INR:{name:"Indian rupee",dp:2},IQD:{name:"Iraqi dinar",dp:3},IRR:{name:"Iranian rial",dp:2},ISK:{name:"Icelandic kr\xF3na",dp:0},JMD:{name:"Jamaican dollar",dp:2},JOD:{name:"Jordanian dinar",dp:3},JPY:{name:"Japanese yen",dp:0},KES:{name:"Kenyan shilling",dp:2},KGS:{name:"Kyrgyzstani som",dp:2},KHR:{name:"Cambodian riel",dp:2},KMF:{name:"Comoro franc",dp:0},KPW:{name:"North Korean won",dp:2},KRW:{name:"South Korean won",dp:2},KWD:{name:"Kuwaiti dinar",dp:3},KYD:{name:"Cayman Islands dollar",dp:2},KZT:{name:"Kazakhstani tenge",dp:2},LAK:{name:"Lao kip",dp:2},LBP:{name:"Lebanese pound",dp:2},LKR:{name:"Sri Lankan rupee",dp:2},LRD:{name:"Liberian dollar",dp:2},LSL:{name:"Lesotho loti",dp:2},LTL:{name:"Lithuanian litas",dp:2},LVL:{name:"Latvian lats",dp:2},LYD:{name:"Libyan dinar",dp:3},MAD:{name:"Moroccan dirham",dp:2},MDL:{name:"Moldovan leu",dp:2},MGA:{name:"Malagasy ariary",dp:2},MKD:{name:"Macedonian denar",dp:2},MMK:{name:"Myanmar kyat",dp:2},MNT:{name:"Mongolian t\xF6gr\xF6g",dp:2},MOP:{name:"Macanese pataca",dp:2},MRO:{name:"Mauritanian ouguiya",dp:2},MUR:{name:"Mauritian rupee",dp:2},MVR:{name:"Maldivian rufiyaa",dp:2},MWK:{name:"Malawian kwacha",dp:2},MXN:{name:"Mexican peso",dp:2},MYR:{name:"Malaysian ringgit",dp:2},MZN:{name:"Mozambican metical",dp:2},NAD:{name:"Namibian dollar",dp:2},NGN:{name:"Nigerian naira",dp:2},NIO:{name:"Nicaraguan c\xF3rdoba",dp:2},NOK:{name:"Norwegian krone",dp:2},NPR:{name:"Nepalese rupee",dp:2},NZD:{name:"New Zealand dollar",dp:2},OMR:{name:"Omani rial",dp:3},PAB:{name:"Panamanian balboa",dp:2},PEN:{name:"Peruvian sol",dp:2},PGK:{name:"Papua New Guinean kina",dp:2},PHP:{name:"Philippine peso[13]",dp:2},PKR:{name:"Pakistani rupee",dp:2},PLN:{name:"Polish z\u0142oty",dp:2},PYG:{name:"Paraguayan guaran\xED",dp:0},QAR:{name:"Qatari riyal",dp:2},RMB:{name:"Renminbi",dp:2},RON:{name:"Romanian leu",dp:2},RSD:{name:"Serbian dinar",dp:2},RUB:{name:"Russian ruble",dp:2},RWF:{name:"Rwandan franc",dp:0},SAR:{name:"Saudi riyal",dp:2},SBD:{name:"Solomon Islands dollar",dp:2},SCR:{name:"Seychelles rupee",dp:2},SDG:{name:"Sudanese pound",dp:2},SEK:{name:"Swedish krona",dp:2},SGD:{name:"Singapore dollar",dp:2},SHP:{name:"Saint Helena pound",dp:2},SLL:{name:"Sierra Leonean leone",dp:2},SOS:{name:"Somali shilling",dp:2},SRD:{name:"Surinamese dollar",dp:2},SSP:{name:"South Sudanese pound",dp:2},STD:{name:"Sao Tome & Principe Dobra",dp:2},STN:{name:"Sao Tome & Principe Dobra",dp:2},SVC:{name:"Salvadoran col\xF3n",dp:2},SYP:{name:"Syrian pound",dp:2},SZL:{name:"Swazi lilangeni",dp:2},THB:{name:"Thai baht",dp:2},TJS:{name:"Tajikistani somoni",dp:2},TMT:{name:"Turkmenistan manat",dp:2},TND:{name:"Tunisian dinar",dp:3},TOP:{name:"Tongan pa\u02BBanga",dp:2},TRY:{name:"Turkish lira",dp:2},TTD:{name:"Trinidad and Tobago dollar",dp:2},TWD:{name:"New Taiwan dollar",dp:2},TZS:{name:"Tanzanian shilling",dp:2},UAH:{name:"Ukrainian hryvnia",dp:2},UGX:{name:"Ugandan shilling",dp:0},USD:{name:"United States dollar",dp:2},UYU:{name:"Uruguayan peso",dp:2},UZS:{name:"Uzbekistan som",dp:2},VEF:{name:"Venezuelan bol\xEDvar",dp:2},VND:{name:"Vietnamese \u0111\u1ED3ng",dp:0},VUV:{name:"Vanuatu vatu",dp:0},WST:{name:"Samoan tala",dp:2},XAF:{name:"CFA franc BEAC",dp:0},XAG:{name:"Silver ounce",dp:2},XAU:{name:"Gold ounce",dp:2},XCD:{name:"East Caribbean dollar",dp:2},XDR:{name:"Special drawing rights",dp:2},XOF:{name:"CFA franc BCEAO",dp:0},XPD:{name:"Palladium ounce",dp:2},XPF:{name:"CFP franc (franc Pacifique)",dp:0},XPT:{name:"Platinum ounce",dp:2},YER:{name:"Yemeni rial",dp:2},ZAR:{name:"South African rand",dp:2},ZMK:{name:"Zambian kwacha",dp:2},ZMW:{name:"Zambian kwacha",dp:2},ZWL:{name:"Zimbabwean dollar",dp:2}}});var Re=he((wn,nn)=>{nn.exports={AAVE:{name:"Aave",dp:8},ADA:{name:"Cardano",dp:8},ALGO:{name:"Algorand",dp:8},ALINK:{name:"ALINK",dp:8},ALPHA:{name:"ALPHA",dp:8},AMPL:{name:"AMPL",dp:8},ATOM:{name:"Cosmos",dp:8},AVAX:{name:"Avalanche",dp:8},BAL:{name:"BAL",dp:8},BAND:{name:"BAND",dp:8},BAT:{name:"BAT",dp:8},BCH:{name:"Bitcoin Cash",dp:8},BNB:{name:"Binance Coin",dp:8},BSV:{name:"BSV",dp:8},BTC:{name:"Bitcoin",dp:8},BTT:{name:"BTT",dp:8},BUSD:{name:"Binance USD",dp:8},CDAI:{name:"Compound Dai",dp:8},CEL:{name:"CEL",dp:8},CELO:{name:"CELO",dp:8},CETH:{name:"Compound Ether",dp:8},CHSB:{name:"CHSB",dp:8},COMP:{name:"COMP",dp:8},CRO:{name:"Crypto.com Chain",dp:8},CRV:{name:"CRV",dp:8},CUSDC:{name:"CUSDC",dp:8},DAI:{name:"Dai",dp:8},DASH:{name:"DASH",dp:8},DCR:{name:"DCR",dp:8},DGB:{name:"DGB",dp:8},DOGE:{name:"Dogecoin",dp:8},DOT:{name:"Polkadot",dp:8},EGLD:{name:"Elrond",dp:8},ENJ:{name:"ENJ",dp:8},EOS:{name:"EOS",dp:8},ETC:{name:"Ethereum Classic",dp:8},ETH:{name:"Ethereum",dp:8},FIL:{name:"FIL",dp:8},FTM:{name:"Fantom",dp:8},FTT:{name:"FTX Token",dp:8},GRT:{name:"GRT",dp:8},HBAR:{name:"Hedera HashGraph",dp:8},HBTC:{name:"HBTC",dp:8},HT:{name:"HT",dp:8},HUSD:{name:"HUSD",dp:8},ICX:{name:"ICX",dp:8},IOST:{name:"IOST",dp:8},KNC:{name:"KNC",dp:8},KSM:{name:"KSM",dp:8},LEO:{name:"LEO",dp:8},LINK:{name:"Chainlink",dp:8},LRC:{name:"LRC",dp:8},LTC:{name:"Litecoin",dp:8},LUNA:{name:"Terra",dp:8},MDX:{name:"MDX",dp:8},MIOTA:{name:"MIOTA",dp:8},MKR:{name:"MKR",dp:8},NANO:{name:"NANO",dp:8},NEO:{name:"NEO",dp:8},NEXO:{name:"NEXO",dp:8},NXM:{name:"NXM",dp:8},OKB:{name:"OKB",dp:8},OMG:{name:"OMG",dp:8},ONT:{name:"ONT",dp:8},PAX:{name:"PAX",dp:8},QNT:{name:"QNT",dp:8},QTUM:{name:"QTUM",dp:8},REN:{name:"REN",dp:8},RENBTC:{name:"RENBTC",dp:8},RSR:{name:"RSR",dp:8},RUNE:{name:"RUNE",dp:8},SC:{name:"SC",dp:8},SNX:{name:"SNX",dp:8},SOL:{name:"Solana",dp:8},STX:{name:"STX",dp:8},SUSHI:{name:"SUSHI",dp:8},THETA:{name:"Theta Token",dp:8},TRX:{name:"TRON",dp:8},TUSD:{name:"TUSD",dp:8},UMA:{name:"UMA",dp:8},UNI:{name:"Uniswap",dp:8},USDC:{name:"USDC",dp:8},USDT:{name:"Tether USD",dp:8},UST:{name:"UST",dp:8},VET:{name:"VeChain",dp:8},VGX:{name:"VGX",dp:8},WAVES:{name:"WAVES",dp:8},WBTC:{name:"Wrapped BTC",dp:8},XEM:{name:"XEM",dp:8},XLM:{name:"Stellar",dp:8},XMR:{name:"Monero",dp:8},XRP:{name:"XRP",dp:8},XTZ:{name:"Tezos",dp:8},XVG:{name:"XVG",dp:8},YFI:{name:"YFI",dp:8},ZEC:{name:"ZEC",dp:8},ZEN:{name:"ZEN",dp:8},ZIL:{name:"ZIL",dp:8},ZRX:{name:"ZRX",dp:8}}});var Me=he((Ae,Q)=>{(function(e){"use strict";var n,r=20,a=1,o=1e6,p=1e6,h=-7,T=21,B=!1,E="[big.js] ",w=E+"Invalid ",L=w+"decimal places",M=w+"rounding mode",k=E+"Division by zero",b={},R=void 0,ce=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function J(){function t(i){var s=this;if(!(s instanceof t))return i===R?J():new t(i);if(i instanceof t)s.s=i.s,s.e=i.e,s.c=i.c.slice();else{if(typeof i!="string"){if(t.strict===!0)throw TypeError(w+"number");i=i===0&&1/i<0?"-0":String(i)}Y(s,i)}s.constructor=t}return t.prototype=b,t.DP=r,t.RM=a,t.NE=h,t.PE=T,t.strict=B,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function Y(t,i){var s,d,u;if(!ce.test(i))throw Error(w+"number");for(t.s=i.charAt(0)=="-"?(i=i.slice(1),-1):1,(s=i.indexOf("."))>-1&&(i=i.replace(".","")),(d=i.search(/e/i))>0?(s<0&&(s=d),s+=+i.slice(d+1),i=i.substring(0,d)):s<0&&(s=i.length),u=i.length,d=0;d<u&&i.charAt(d)=="0";)++d;if(d==u)t.c=[t.e=0];else{for(;u>0&&i.charAt(--u)=="0";);for(t.e=s-d-1,t.c=[],s=0;d<=u;)t.c[s++]=+i.charAt(d++)}return t}function P(t,i,s,d){var u=t.c;if(s===R&&(s=t.constructor.RM),s!==0&&s!==1&&s!==2&&s!==3)throw Error(M);if(i<1)d=s===3&&(d||!!u[0])||i===0&&(s===1&&u[0]>=5||s===2&&(u[0]>5||u[0]===5&&(d||u[1]!==R))),u.length=1,d?(t.e=t.e-i+1,u[0]=1):u[0]=t.e=0;else if(i<u.length){if(d=s===1&&u[i]>=5||s===2&&(u[i]>5||u[i]===5&&(d||u[i+1]!==R||u[i-1]&1))||s===3&&(d||!!u[0]),u.length=i--,d)for(;++u[i]>9;)u[i]=0,i--||(++t.e,u.unshift(1));for(i=u.length;!u[--i];)u.pop()}return t}function U(t,i,s){var d=t.e,u=t.c.join(""),l=u.length;if(i)u=u.charAt(0)+(l>1?"."+u.slice(1):"")+(d<0?"e":"e+")+d;else if(d<0){for(;++d;)u="0"+u;u="0."+u}else if(d>0)if(++d>l)for(d-=l;d--;)u+="0";else d<l&&(u=u.slice(0,d)+"."+u.slice(d));else l>1&&(u=u.charAt(0)+"."+u.slice(1));return t.s<0&&s?"-"+u:u}b.abs=function(){var t=new this.constructor(this);return t.s=1,t},b.cmp=function(t){var i,s=this,d=s.c,u=(t=new s.constructor(t)).c,l=s.s,v=t.s,c=s.e,C=t.e;if(!d[0]||!u[0])return d[0]?l:u[0]?-v:0;if(l!=v)return l;if(i=l<0,c!=C)return c>C^i?1:-1;for(v=(c=d.length)<(C=u.length)?c:C,l=-1;++l<v;)if(d[l]!=u[l])return d[l]>u[l]^i?1:-1;return c==C?0:c>C^i?1:-1},b.div=function(t){var i=this,s=i.constructor,d=i.c,u=(t=new s(t)).c,l=i.s==t.s?1:-1,v=s.DP;if(v!==~~v||v<0||v>o)throw Error(L);if(!u[0])throw Error(k);if(!d[0])return t.s=l,t.c=[t.e=0],t;var c,C,m,O,y,K=u.slice(),le=c=u.length,Ze=d.length,N=d.slice(0,c),D=N.length,X=t,me=X.c=[],pe=0,q=v+(X.e=i.e-t.e)+1;for(X.s=l,l=q<0?0:q,K.unshift(0);D++<c;)N.push(0);do{for(m=0;m<10;m++){if(c!=(D=N.length))O=c>D?1:-1;else for(y=-1,O=0;++y<c;)if(u[y]!=N[y]){O=u[y]>N[y]?1:-1;break}if(O<0){for(C=D==c?u:K;D;){if(N[--D]<C[D]){for(y=D;y&&!N[--y];)N[y]=9;--N[y],N[D]+=10}N[D]-=C[D]}for(;!N[0];)N.shift()}else break}me[pe++]=O?m:++m,N[0]&&O?N[D]=d[le]||0:N=[d[le]]}while((le++<Ze||N[0]!==R)&&l--);return!me[0]&&pe!=1&&(me.shift(),X.e--,q--),pe>q&&P(X,q,s.RM,N[0]!==R),X},b.eq=function(t){return this.cmp(t)===0},b.gt=function(t){return this.cmp(t)>0},b.gte=function(t){return this.cmp(t)>-1},b.lt=function(t){return this.cmp(t)<0},b.lte=function(t){return this.cmp(t)<1},b.minus=b.sub=function(t){var i,s,d,u,l=this,v=l.constructor,c=l.s,C=(t=new v(t)).s;if(c!=C)return t.s=-C,l.plus(t);var m=l.c.slice(),O=l.e,y=t.c,K=t.e;if(!m[0]||!y[0])return y[0]?t.s=-C:m[0]?t=new v(l):t.s=1,t;if(c=O-K){for((u=c<0)?(c=-c,d=m):(K=O,d=y),d.reverse(),C=c;C--;)d.push(0);d.reverse()}else for(s=((u=m.length<y.length)?m:y).length,c=C=0;C<s;C++)if(m[C]!=y[C]){u=m[C]<y[C];break}if(u&&(d=m,m=y,y=d,t.s=-t.s),(C=(s=y.length)-(i=m.length))>0)for(;C--;)m[i++]=0;for(C=i;s>c;){if(m[--s]<y[s]){for(i=s;i&&!m[--i];)m[i]=9;--m[i],m[s]+=10}m[s]-=y[s]}for(;m[--C]===0;)m.pop();for(;m[0]===0;)m.shift(),--K;return m[0]||(t.s=1,m=[K=0]),t.c=m,t.e=K,t},b.mod=function(t){var i,s=this,d=s.constructor,u=s.s,l=(t=new d(t)).s;if(!t.c[0])throw Error(k);return s.s=t.s=1,i=t.cmp(s)==1,s.s=u,t.s=l,i?new d(s):(u=d.DP,l=d.RM,d.DP=d.RM=0,s=s.div(t),d.DP=u,d.RM=l,this.minus(s.times(t)))},b.plus=b.add=function(t){var i,s,d,u=this,l=u.constructor;if(t=new l(t),u.s!=t.s)return t.s=-t.s,u.minus(t);var v=u.e,c=u.c,C=t.e,m=t.c;if(!c[0]||!m[0])return m[0]||(c[0]?t=new l(u):t.s=u.s),t;if(c=c.slice(),i=v-C){for(i>0?(C=v,d=m):(i=-i,d=c),d.reverse();i--;)d.push(0);d.reverse()}for(c.length-m.length<0&&(d=m,m=c,c=d),i=m.length,s=0;i;c[i]%=10)s=(c[--i]=c[i]+m[i]+s)/10|0;for(s&&(c.unshift(s),++C),i=c.length;c[--i]===0;)c.pop();return t.c=c,t.e=C,t},b.pow=function(t){var i=this,s=new i.constructor("1"),d=s,u=t<0;if(t!==~~t||t<-p||t>p)throw Error(w+"exponent");for(u&&(t=-t);t&1&&(d=d.times(i)),t>>=1,!!t;)i=i.times(i);return u?s.div(d):d},b.prec=function(t,i){if(t!==~~t||t<1||t>o)throw Error(w+"precision");return P(new this.constructor(this),t,i)},b.round=function(t,i){if(t===R)t=0;else if(t!==~~t||t<-o||t>o)throw Error(L);return P(new this.constructor(this),t+this.e+1,i)},b.sqrt=function(){var t,i,s,d=this,u=d.constructor,l=d.s,v=d.e,c=new u("0.5");if(!d.c[0])return new u(d);if(l<0)throw Error(E+"No square root");l=Math.sqrt(d+""),l===0||l===1/0?(i=d.c.join(""),i.length+v&1||(i+="0"),l=Math.sqrt(i),v=((v+1)/2|0)-(v<0||v&1),t=new u((l==1/0?"5e":(l=l.toExponential()).slice(0,l.indexOf("e")+1))+v)):t=new u(l+""),v=t.e+(u.DP+=4);do s=t,t=c.times(s.plus(d.div(s)));while(s.c.slice(0,v).join("")!==t.c.slice(0,v).join(""));return P(t,(u.DP-=4)+t.e+1,u.RM)},b.times=b.mul=function(t){var i,s=this,d=s.constructor,u=s.c,l=(t=new d(t)).c,v=u.length,c=l.length,C=s.e,m=t.e;if(t.s=s.s==t.s?1:-1,!u[0]||!l[0])return t.c=[t.e=0],t;for(t.e=C+m,v<c&&(i=u,u=l,l=i,m=v,v=c,c=m),i=new Array(m=v+c);m--;)i[m]=0;for(C=c;C--;){for(c=0,m=v+C;m>C;)c=i[m]+l[C]*u[m-C-1]+c,i[m--]=c%10,c=c/10|0;i[m]=c}for(c?++t.e:i.shift(),C=i.length;!i[--C];)i.pop();return t.c=i,t},b.toExponential=function(t,i){var s=this,d=s.c[0];if(t!==R){if(t!==~~t||t<0||t>o)throw Error(L);for(s=P(new s.constructor(s),++t,i);s.c.length<t;)s.c.push(0)}return U(s,!0,!!d)},b.toFixed=function(t,i){var s=this,d=s.c[0];if(t!==R){if(t!==~~t||t<0||t>o)throw Error(L);for(s=P(new s.constructor(s),t+s.e+1,i),t=t+s.e+1;s.c.length<t;)s.c.push(0)}return U(s,!1,!!d)},b.toJSON=b.toString=function(){var t=this,i=t.constructor;return U(t,t.e<=i.NE||t.e>=i.PE,!!t.c[0])},b.toNumber=function(){var t=Number(U(this,!0,!0));if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error(E+"Imprecise conversion");return t},b.toPrecision=function(t,i){var s=this,d=s.constructor,u=s.c[0];if(t!==R){if(t!==~~t||t<1||t>o)throw Error(w+"precision");for(s=P(new d(s),t,i);s.c.length<t;)s.c.push(0)}return U(s,t<=s.e||s.e<=d.NE||s.e>=d.PE,!!u)},b.valueOf=function(){var t=this,i=t.constructor;if(i.strict===!0)throw Error(E+"valueOf disallowed");return U(t,t.e<=i.NE||t.e>=i.PE,!0)},n=J(),n.default=n.Big=n,typeof define=="function"&&define.amd?define(function(){return n}):typeof Q<"u"&&Q.exports?Q.exports=n:e.Big=n})(Ae)});var Cn={};var xe=Ne(),Be=Re(),tn=new Set(Object.keys(xe).concat(Object.keys(Be)));var A=new Map;A.set("$","USD");A.set("\uFF04","USD");A.set("\uFE69","USD");A.set("\u20BD","RUB");A.set("\u20AC","EUR");A.set("\xA3","GBP");A.set("\u0E3F","THB");A.set("\xA5","JPY");A.set("\u20A3","FRF");A.set("\u20A9","KRW");var Ee=new Set(A.keys()),rn=[[/^dollars?$/i,"USD"],[/^ro?ubl(es?)?$/i,"RUB"],[/^euros?$/i,"EUR"],[/^baht$/i,"THB"],[/^bitcoins?$/i,"BTC"],[/^руб(л(ь|и|ей|ях?|ями?)?)?$/i,"RUB"],[/^доллар(ы|ов|ами?|ах)?$/i,"USD"],[/^бат(ах)?$/i,"THB"],[/^битко[йи]н(ы|ами?|ов|ах)?$/i,"BTC"]];function an(e){for(let[n,r]of rn)if(n.test(e))return r}function _(e){e=e.toUpperCase();let n=A.get(e);if(n||(n=an(e),n))return n;if(tn.has(e))return e}function De(e){return xe[e]||Be[e]||void 0}var I={addition:new Set(["+","-","\u2212"]),multiplication:new Set(["*","x","\u0445","\xD7","/","%"]),into:new Set(["in","to","\u0432"]),of:new Set(["of","\u043E\u0442"]),sum:new Set(["sum","total"])},ge=new Set;for(let e of Object.values(I))for(let n of e)ge.add(n);var W=_e(Me());var S=class{constructor(){this.kind="nil"}},f=class{constructor(n,r){this.value=n;this.currency=r;this.kind="numbr";if(r?.toUpperCase()!=r)throw new Error(`The currency ${r} is in lowercase!`)}get hasCurrency(){return this.currency!=null}},g=class{constructor(n){this.value=n;this.kind="percent"}},$=class{constructor(n){this.title=n;this.kind="header"}};function F(e,n,r,a){if(n.currency==null||r.currency==null)return new f(e(n.value,r.value),r.currency||n.currency);if(n.currency==r.currency)return new f(e(n.value,r.value),r.currency);if(a[n.currency]==null||a[r.currency]==null)throw new Error(`No currency rates for ${n.currency}/${r.currency}.`);return new f(e(n.value.mul(a[n.currency]).div(a[r.currency]),r.value),r.currency)}var ee=class{constructor(n){this.token=n;this.kind="currency"}evaluate(n){return new S}toCurrencyCode(){return _(this.token.value)}highlight(){let n,r=this.toCurrencyCode();r&&(n=De(r)?.name);let a=[];return a.push([this.token.start,this.token.end,"currency",n]),a}toString(){return this.toCurrencyCode()||"???"}},ne=class{constructor(){this.kind="nil"}evaluate(n){return new S}highlight(){return[]}toString(){return"nil"}},te=class{constructor(n,r){this.value=n;this.currency=r;this.kind="value"}evaluate(n){let r=this.value.value,a=1;return/k$/.test(r)&&(a=1e3),/M$/.test(r)&&(a=1e6),r=="\u{1F4AF}"&&(r="100"),r=r.replace(/[\s,'_]/g,"").replace(/k$/,"").replace(/M$/,""),new f((0,W.default)(r).mul(a),this.currency?.toCurrencyCode())}highlight(){let n=[];return n.push([this.value.start,this.value.end,"number"]),n.push(...this.currency?.highlight()||[]),n}toString(){return this.value.value+(this.currency?.toString()||"")}},re=class{constructor(n){this.value=n;this.kind="percentage"}evaluate(n){let r=this.value.value.substring(0,this.value.value.length-1);return new g((0,W.default)(r))}highlight(){let n=[];return n.push([this.value.start,this.value.end-1,"number"]),n.push([this.value.end-1,this.value.end,"operator"]),n}toString(){return this.value.value}},Z=class{constructor(n){this.token=n;this.kind="sum"}evaluate(n){let{rates:r,answers:a,line:o}=n,p=new f((0,W.default)(0));for(let h=o-1;h>=0&&!(a[h]instanceof $);h--)if(!(a[h]==null||a[h]instanceof S))if(a[h]instanceof f)p=F((T,B)=>T.add(B),p,a[h],r);else return new S;return p}highlight(){let n=[];return n.push([this.token.start,this.token.end,"operator"]),n}toString(){return this.token.value}},ae=class{constructor(n,r){this.op=n;this.node=r;this.kind="unary"}evaluate(n){let r=this.node.evaluate(n);if(this.op.value=="-"||this.op.value=="\u2212"){if(r instanceof f)return new f(r.value.mul(-1),r.currency);if(r instanceof g)return new g(r.value.mul(-1))}return r}highlight(){let n=[];return n.push([this.op.start,this.op.end,"operator"]),n.push(...this.node.highlight()),n}toString(){return`${this.op.value}(${this.node.toString()})`}},G=class{constructor(n,r,a){this.op=n;this.left=r;this.right=a;this.kind="binary"}evaluate(n){let r=n.rates,a=this.left.evaluate(n),o=this.right.evaluate(n);if(o instanceof S)return a;switch(this.op.value){case"+":if(a instanceof f&&o instanceof f)return F((p,h)=>p.add(h),a,o,r);if(a instanceof f&&o instanceof g)return new f(a.value.mul((0,W.default)(1).add(o.value.div(100))),a.currency);if(a instanceof g&&o instanceof g)return new g(a.value.add(o.value));if(a instanceof g&&o instanceof f)return new S;break;case"-":case"\u2212":if(a instanceof f&&o instanceof f)return F((p,h)=>p.minus(h),a,o,r);if(a instanceof f&&o instanceof g)return new f(a.value.mul((0,W.default)(1).minus(o.value.div(100))),a.currency);if(a instanceof g&&o instanceof f)return new S;if(a instanceof g&&o instanceof g)return new g(a.value.minus(o.value));break;case"*":case"x":case"\u0445":case"\xD7":if(a instanceof f&&o instanceof f)return F((p,h)=>p.mul(h),a,o,r);if(a instanceof f&&o instanceof g)return new f(a.value.mul(o.value).div(100),a.currency);if(a instanceof g&&o instanceof f)return new g(a.value.mul(o.value));if(a instanceof g&&o instanceof g)return new g(a.value.mul(o.value));break;case"/":if(a instanceof f&&o instanceof f){let p=F((h,T)=>h.div(T),a,o,r);return a.hasCurrency&&o.hasCurrency&&(p.currency=void 0),p}if(a instanceof f&&o instanceof g)return new S;if(a instanceof g&&o instanceof f)return new g(a.value.div(o.value));if(a instanceof g&&o instanceof g)return new g(a.value.div(o.value));break;case"%":if(a instanceof f&&o instanceof f)return F((p,h)=>p.mod(h),a,o,r);if(a instanceof f&&o instanceof g)return new S;if(a instanceof g&&o instanceof f)return new S;if(a instanceof g&&o instanceof g)return new g(a.value.mod(o.value));break;case"^":if(a instanceof f&&o instanceof f)return F((p,h)=>p.pow(+h),a,o,r);if(a instanceof f&&o instanceof g)return new S;if(a instanceof g&&o instanceof f)return new S;if(a instanceof g&&o instanceof g)return new g(a.value.pow(+o.value));break}return new S}highlight(){let n=[];return n.push([this.op.start,this.op.end,"operator"]),n.push(...this.left.highlight()),n.push(...this.right.highlight()),n}toString(){return`(${this.left.toString()} ${this.op.value} ${this.right.toString()})`}},z=class{constructor(n,r,a){this.op=n;this.node=r;this.currency=a;this.kind="conversion"}evaluate(n){let r=n.rates,a=this.node.evaluate(n),o=this.currency.toCurrencyCode();return a instanceof f?a.currency==null?new f(a.value,o):o==null||r[a.currency]==null||r[o]==null?a:new f(a.value.mul(r[a.currency]).div(r[o]),o):a instanceof g?new g(a.value):new S}highlight(){let n=[];return this.op&&n.push([this.op.start,this.op.end,"operator"]),n.push(...this.node.highlight()),n.push(...this.currency.highlight()),n}toString(){return`(${this.node.toString()} ${this.op?.value} ${this.currency.toString()})`}},ie=class{constructor(n,r,a){this.op=n;this.left=r;this.right=a;this.kind="fraction"}evaluate(n){let r=this.left.evaluate(n),a=this.right.evaluate(n);return r instanceof f&&a instanceof f?new f(a.value.mul(r.value).div(100),a.currency):r instanceof g&&a instanceof f?new f(a.value.mul(r.value).div(100),a.currency):r instanceof g&&a instanceof g?new g(a.value.mul(r.value).div(100)):new S}highlight(){let n=[];return n.push([this.op.start,this.op.end,"operator"]),n.push(...this.left.highlight()),n.push(...this.right.highlight()),n}toString(){return`(${this.left.toString()} ${this.op.value} ${this.right.toString()})`}},H=class{constructor(n,r,a){this.op=n;this.variable=r;this.node=a;this.kind="assignment"}evaluate(n){let r=this.node.evaluate(n);return globalThis[j(this.variable)]=r,r}highlight(){let n=[];return n.push([this.variable.start,this.variable.end,"variable"]),n.push([this.op.start,this.op.end,"operator"]),n.push(...this.node.highlight()),n}toString(){return`TODO ${this.op.value} ${this.node.toString()})`}},oe=class{constructor(n){this.token=n;this.kind="variable"}evaluate(n){let r=globalThis[j(this.token)];return Number.isFinite(r)?new f(r):r}highlight(){let n=[];return n.push([this.token.start,this.token.end,"variable"]),n}toString(){return this.token.value}},se=class{constructor(n){this.token=n;this.kind="reference"}evaluate(n){return new S}highlight(){return[]}toString(){return this.token.value}};function j(e){return e.value.toLowerCase()}function Pe(e,n){n instanceof H&&e.push(j(n.variable))}function Le(e,n){let r=new Map;if(n.length==0)return r;n.sort((p,h)=>h.length-p.length);let a=new RegExp(n.join("|"),"ig"),o=e.matchAll(a);for(let p of o)p.index!=null&&r.set(p.index,p.index+p[0].length);return r}var Ce="";function Ue(e,n=[]){let r=new be(Array.isArray(e)?e:[...e],Le(e,n)),a=r.code.indexOf(":");a!=-1&&(r.start=r.end=a+1);let o=r.code.indexOf("=",r.end);if(o!=-1){let h=r.end;for(;r.code[h]==" ";)h++;for(;r.code[o-1]==" ";)o--;let T=r.code.slice(h,o).join("");/^\p{L}[_ \p{L}\p{N}]*$/ui.test(T)&&(r.tokens.push({kind:"variable",value:T,start:h,end:o}),r.start=r.end=o)}let p=x;for(;p;)p=p(r);return r.tokens.push({kind:"eof",value:"",start:r.start,end:r.end}),r.tokens}var be=class{constructor(n,r){this.code=n;this.vars=r;this.start=0;this.end=0;this.tokens=[]}next(){let n=this.end<this.code.length?this.code[this.end]:Ce;return this.end++,n}backup(){this.end--}peek(){let n=this.next();return this.backup(),n}word(){return this.code.slice(this.start,this.end).join("")}emit(n){let r=this.word(),a=r.toLowerCase();n=="word"&&ge.has(a)&&(n="operator",r=a),this.tokens.push({kind:n,value:r,start:this.start,end:this.end}),this.start=this.end}drop(){this.start=this.end}accept(n){return n.test(this.next())?!0:(this.backup(),!1)}acceptRun(n){for(;n.test(this.next()););this.backup()}};function x(e){let n=e.next();if(n==Ce)return null;let r=e.vars.get(e.start);if(r!=null)return e.end=r,e.emit("variable"),x;if("0"<=n&&n<="9")return e.backup(),Oe;if(n=="\u{1F4AF}")return e.emit("number"),x;if(n==".")return/[0-9]/.test(e.peek())?(e.backup(),Oe):(e.emit("word"),x);if("()".includes(n))return e.emit("bracket"),x;if("+-\u2212*/%^=".includes(n)||"\xD7".includes(n))return e.emit("operator"),x;if(n=="\u0192")return e.accept(/ы/)?(Ke(e),e.emit("variable"),x):(e.emit("word"),x);if(n=="\u27E6"){let a;for(;(a=e.next())!=Ce;)if(a=="\u27E7")return e.emit("reference"),x;return e.emit("word"),x}return Ee.has(n)?(e.emit("word"),x):Ie(n)?(e.backup(),on):(e.drop(),x)}function Oe(e){return Ke(e),e.accept(/%/)?e.emit("percentage"):e.emit("number"),x}function on(e){for(;Ie(e.next()););return e.backup(),e.emit("word"),x}function Ke(e){let n=/[0-9]/;for(e.acceptRun(n);e.accept(/[\s,'_]/);)if(e.accept(n))e.acceptRun(n);else{e.backup();break}e.accept(/\./)&&e.acceptRun(n),e.accept(/[kM]/)}function Ie(e){return e==="_"||/\p{Alphabetic}/u.test(e)}var we=class{constructor(n){this.stream=n;this.pos=0;this.words=[];this.warnings=[];this.current=n[0]}next(){if(this.pos<this.stream.length-1)this.pos++;else return;this.previous=this.current,this.current=this.stream[this.pos],this.previous.kind=="word"?this.words.push(this.previous):this.words=[]}skip(){for(;this.stream[this.pos].kind=="word";)this.words.push(this.stream[this.pos]),this.pos++;this.current=this.stream[this.pos]}eof(){return this.current.kind=="eof"}is(n,...r){return this.current.kind==n&&(r.includes(this.current.value)||r.length==0)}isNext(n,...r){let a=this.stream[this.pos+1];return a.kind==n&&(r.includes(a.value)||r.length==0)}};function Fe(e){let n=new we(e);return[sn(n),n.warnings]}function sn(e){if(e.is("variable")&&e.isNext("operator","=")){let n=e.current;e.next();let r=e.current;e.next();let a=ue(e);return new H(r,n,a)}return ue(e)}function ue(e){e.skip();let n=ve(e);for(;e.is("operator");){let r=e.current,a=e.words.length;if(e.next(),e.eof())return n;if(I.into.has(r.value)){if(e.is("word")){let o=V(e.current);e.next(),o!=null&&(n=new z(r,n,o)),e.skip()}}else if(I.of.has(r.value)){if(a>0){e.skip();continue}let o=ve(e);n=new ie(r,n,o)}else if(I.addition.has(r.value)){e.skip();let o=ve(e);n=new G(r,n,o)}else if(I.multiplication.has(r.value)){e.skip();let o=de(e);n=new G(r,n,o)}}return n}function ve(e){let n=de(e);for(;e.is("operator",...I.multiplication);){let r=e.current;if(e.next(),e.skip(),e.eof())return n;let a=de(e);n=new G(r,n,a)}return n}function de(e){let n=He(e);if(e.is("operator","^")){let r=e.current;e.next(),e.skip();let a=de(e);n=new G(r,n,a)}return n}function He(e){if(e.is("operator","-","\u2212","+")){let n=e.current;return e.next(),e.skip(),new ae(n,He(e))}return un(e)}function un(e){if(e.is("bracket","(")){e.next(),e.skip();let n=ue(e);return e.is("bracket",")")&&(e.next(),e.skip(),e.eof()),n}return dn(e)}function V(e){if(e==null)return;if(_(e.value))return new ee(e)}function dn(e){if(e.current.kind=="number"){let n=V(e.words.length>0?e.words[e.words.length-1]:void 0),r=new te(e.current,n);return e.next(),n=V(e.current),n&&(r.currency=n),e.skip(),r}if(e.is("variable")){let n=V(e.words.length>0?e.words[e.words.length-1]:void 0),r=new oe(e.current);return e.next(),n=V(e.current)||n,n&&(r=new z(void 0,r,n)),e.skip(),r}if(e.is("percentage")){let n=new re(e.current);return e.next(),e.skip(),n}if(e.is("reference")){let n=V(e.words.length>0?e.words[e.words.length-1]:void 0),r=new se(e.current);return e.next(),n=V(e.current)||n,n&&(r=new z(void 0,r,n)),e.skip(),r}if(e.is("operator",...I.sum)){let n=new Z(e.current);return e.next(),e.skip(),n}return e.next(),e.eof()?new ne:ue(e)}var ke={"dot-thousand":{decimal:".",thousand:","},"comma-decimal":{decimal:",",thousand:"."}},ye="dot-thousand",Se={USD:1,EUR:.92,GBP:1.23,RUB:.013,THB:.027,BTC:6e4,ETH:3e3};function Xe(e,n={}){let r=n.format||ke[n.formatKey||ye],a=n.rates||Se,o=[],p=e.split(/\r?\n/),h=[],T=Object.create(null),B=Symbol("absent"),E=w=>{let L=Object.keys(T),M=new Map;for(let k of L)Object.prototype.hasOwnProperty.call(globalThis,k)?M.set(k,globalThis[k]):M.set(k,B),globalThis[k]=T[k];try{return w()}finally{for(let k of L){let b=M.get(k);b===B?delete globalThis[k]:globalThis[k]=b}}};return p.map((w,L)=>{let M=w.trim();if(M.startsWith("#")){let k=M.replace(/^#+\s*/,""),b=new $(k);return o.push(b),{expression:w,result:k,kind:"header",warnings:[],highlight:w.length>0?[{start:0,end:w.length,tag:"header"}]:[]}}if(M.startsWith(":")){let k=M.replace(/^:\s*/,"");return o.push(new S),{expression:w,result:k,kind:"description",warnings:[],highlight:w.length>0?[{start:0,end:w.length,tag:"description"}]:[]}}if(M.length===0)return o.push(new S),{expression:w,result:"",kind:"nothing",warnings:[],highlight:[]};try{let{normalized:k,map:b}=pn(w,r),[R,ce]=Fe(Ue(k,h)),J=R instanceof Z,Y=E(()=>R.evaluate({rates:a,answers:o,line:L}));if(o.push(Y),Pe(h,R),R instanceof H){let s=j(R.variable);T[s]=Y}let P=cn(Y,r),U=mn(k,R.highlight()),t=fn(U,b,w.length),i=hn(ce,b,w.length);return{expression:w,result:P.text,kind:J?"total":P.kind,warnings:i,highlight:t}}catch(k){let b=k instanceof Error?k.message:"Unknown error";return o.push(new S),{expression:w,result:`Error: ${b}`,kind:"error",warnings:[],highlight:[]}}})}function cn(e,n){let r=e?.kind;if(r==="numbr"){let a=e.value,o=e.currency,p=Ge(a,n,2);return{text:o?`${p} ${o}`:p,kind:"numbr"}}if(r==="percent"){let a=e.value;return{text:`${Ge(a,n,2)}%`,kind:"percent"}}return r==="header"?{text:e.title??"",kind:"header"}:r==="nil"?{text:"",kind:"nothing"}:{text:"",kind:typeof r=="string"?r:"unknown"}}function Ge(e,n,r=2){let o=e.round(r).toFixed(r),p=o.startsWith("-"),h=p?o.slice(1):o,[T,B]=h.split("."),E=ln(T,n.thousand),w=B!=null&&r>0?`${E}${n.decimal}${B}`:E;return p?`-${w}`:w}function ln(e,n){return!n||e.length<=3?e:e.replace(/\B(?=(\d{3})+(?!\d))/g,n)}function mn(e,n){if(!n||n.length===0||e.length===0)return[];let r=new Array(e.length);for(let[p,h,T]of n){if(p>=h)continue;let B=Math.max(0,Math.min(e.length,p)),E=Math.max(B,Math.min(e.length,h));for(let w=B;w<E;w++)r[w]||(r[w]=T)}let a=[],o=0;for(;o<e.length;){let p=r[o];if(!p){o++;continue}let h=o+1;for(;h<e.length&&r[h]===p;)h++;a.push({start:o,end:h,tag:p}),o=h}return a}function pn(e,n){let r=[];if(n.decimal==="."&&n.thousand===","){for(let o=0;o<e.length;o++)r.push(o);return{normalized:e,map:r}}let a="";for(let o=0;o<e.length;o++){let p=e[o];if(p===n.decimal){a+=".",r.push(o);continue}if(p===n.thousand){let h=e[o-1],T=e[o+1];if(Ve(h)&&Ve(T))continue}a+=p,r.push(o)}return{normalized:a,map:r}}function Ve(e){return e!==void 0&&e>="0"&&e<="9"}function $e(e,n,r){return e<=0?0:e>=n.length?r:n[e]}function We(e,n,r){return e<=0?0:e>n.length?r:n[e-1]+1}function fn(e,n,r){return n.length===0?e:e.map(a=>({start:$e(a.start,n,r),end:We(a.end,n,r),tag:a.tag}))}function hn(e,n,r){return n.length===0?e:e.map(a=>({start:$e(a.start,n,r),end:We(a.end,n,r),message:a.message}))}var gn=typeof window<"u"?window:globalThis;gn.NumbrRuntime={evaluate(e,n){return Xe(e,{formatKey:n,rates:Se})},formatPresets:ke,defaultFormatKey:ye};return Qe(Cn);})();
